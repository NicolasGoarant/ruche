<% content_for :title, "#{@contribution.translated_title} ‚Äî Les Tisserands" %>

<% content_for :styles do %>
  <style>
    /* === CONTRIBUTION SHOW STYLES === */

    .show-container {
      max-width: 800px;
      margin: 3rem auto;
      padding: 0 2rem;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--color-text-muted);
      text-decoration: none;
      font-size: 0.9rem;
      margin-bottom: 2rem;
      transition: color 0.2s;
    }

    .back-link:hover {
      color: var(--color-primary);
    }

    .hero-image {
      width: 100%;
      height: 400px;
      object-fit: cover;
      border-radius: var(--radius-md);
      margin-bottom: 2rem;
    }

    .type-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }

    .badge-fle { background: #E4F3EC; color: #3A7A5A; }
    .badge-event { background: #E4EEF8; color: #1A5B9A; }
    .badge-enterprise { background: #FBE9E0; color: #C45A2A; }
    .badge-portrait { background: #F0E8F8; color: #6A3A9A; }
    .badge-rights { background: #FFF8E7; color: #E8920A; }

    .show-container h1 {
      font-family: var(--font-display);
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--color-dark);
      line-height: 1.2;
      margin-bottom: 1.5rem;
    }

    .meta {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
      padding: 1.5rem 0;
      border-top: 1px solid var(--color-border);
      border-bottom: 1px solid var(--color-border);
      margin-bottom: 2rem;
      font-size: 0.9rem;
      color: var(--color-text-muted);
    }

    .meta-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .content {
      font-size: 1.05rem;
      line-height: 1.8;
      color: #333;
      margin-bottom: 2rem;
    }

    .contact-box {
      background: #FFF8E7;
      border: 2px solid var(--color-primary);
      border-radius: var(--radius-md);
      padding: 1.5rem;
      margin-top: 2rem;
    }

    .contact-box h3 {
      font-family: var(--font-display);
      font-size: 1.2rem;
      margin-bottom: 0.8rem;
      color: var(--color-dark);
    }

    .contact-box p {
      font-size: 0.95rem;
      color: var(--color-text-muted);
      margin-bottom: 0.5rem;
    }

    .contact-info {
      font-size: 1.05rem;
      color: var(--color-primary-hover);
      font-weight: 600;
    }
  </style>
<% end %>

<div class="show-container">
  <a href="<%= root_path %>" class="back-link"><%= t('contribution_show.back') %></a>

  <% if @contribution.image_url.present? %>
    <img src="<%= @contribution.image_url %>" alt="<%= @contribution.translated_title %>" class="hero-image">
  <% end %>

  <span class="type-badge badge-<%= @contribution.contribution_type %>">
    <%= @contribution.type_emoji %> <%= Contribution.type_label(@contribution.contribution_type) %>
  </span>

  <h1><%= @contribution.translated_title %></h1>

  <div class="meta">
    <div class="meta-item">
      <span>üìç</span>
      <span><%= @contribution.location %></span>
    </div>
    <div class="meta-item">
      <span><%= @contribution.author_flag %></span>
      <span><%= t('contribution_show.published_by') %> <%= @contribution.author_name %></span>
    </div>
    <div class="meta-item">
      <span>üìÖ</span>
      <span><%= @contribution.formatted_date %></span>
    </div>
  </div>

  <div class="content">
    <%= simple_format(@contribution.translated_description) %>
  </div>

  <% if @contribution.contact_info.present? %>
    <div class="contact-box">
      <h3><%= t('contribution_show.contact_title') %></h3>
      <p><%= t('contribution_show.contact_desc') %></p>
      <div class="contact-info"><%= @contribution.contact_info %></div>
    </div>
  <% end %>
</div>
